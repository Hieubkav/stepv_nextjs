# Mobile-First Tailwind Override - Technical Reference

## Tailwind Breakpoint System

### Default Breakpoints

```javascript
// tailwind.config.js
module.exports = {
  theme: {
    screens: {
      'sm': '640px',    // Mobile landscape
      'md': '768px',    // Tablet
      'lg': '1024px',   // Desktop
      'xl': '1280px',   // Large desktop
      '2xl': '1536px',  // Extra large
    },
  },
};
```

### Prefix Reference

| Prefix | Meaning | Example |
|--------|---------|---------|
| `max-sm:` | < 640px | Phones in portrait |
| `max-md:` | < 768px | Mobile & small tablets |
| `max-lg:` | < 1024px | Small tablets |
| `sm:` | ≥ 640px | Mobile landscape |
| `md:` | ≥ 768px | Tablets & up |
| `lg:` | ≥ 1024px | Desktops & up |
| `xl:` | ≥ 1280px | Large screens |

## CSS Generated by Tailwind

### Understanding How Prefixes Work

```css
/* Desktop styles (base) */
.text-\[28px\] {
  font-size: 28px;
}

/* Mobile override (media query) */
@media (max-width: 767px) {
  .max-md\:text-\[20px\] {
    font-size: 20px;
  }
}
```

**Key insight**: `max-md:` creates `@media (max-width: 767px)` in CSS.

### Cascade Example

```tsx
// HTML
<h1 className="text-[28px] max-md:text-[20px]">
  Title
</h1>

// CSS Generated
.text-\[28px\] {
  font-size: 28px; /* Applied first */
}

@media (max-width: 767px) {
  .max-md\:text-\[20px\] {
    font-size: 20px; /* Overrides above on small screens */
  }
}

// Result:
// On desktop (≥768px): 28px
// On mobile (<768px): 20px
```

## Real-World Examples from the Project

### Example 1: HomePage Background Adjustment

**Problem**: 450px blue background takes too much space on mobile

**Solution**:
```tsx
// Before (desktop only)
<div className="absolute top-0 left-0 w-full h-[450px] bg-[#003f97] z-0" />

// After (desktop + mobile)
<div className="absolute top-0 left-0 w-full h-[450px] max-md:h-[280px] bg-[#003f97] z-0" />
```

**Result**:
- Desktop (≥768px): 450px background
- Mobile (<768px): 280px background

### Example 2: Form Labels - Alignment & Width

**Problem**: Fixed-width 170px labels look cramped on mobile

**Solution**:
```tsx
// Before (desktop only)
<label className="w-[170px] text-right text-sm pr-6 font-normal">
  Tax Code
</label>

// After (desktop + mobile)
<label className="w-[170px] max-md:w-full text-right max-md:text-left text-sm pt-2 sm:pt-0 pr-6 max-md:pr-0 max-md:pb-1 font-normal">
  Tax Code
</label>
```

**Desktop (≥768px)**:
- Width: 170px (fixed column)
- Text align: right
- Padding right: 6 units

**Mobile (<768px)**:
- Width: full (100%)
- Text align: left
- Padding right: 0

### Example 3: Input/Button Heights

**Problem**: 34px inputs too small for mobile touch

**Solution**:
```tsx
// Before (desktop only)
<input className="h-[34px] px-3" />

// After (desktop + mobile)
<input className="h-[34px] max-md:h-[40px] px-3" />
```

**Result**:
- Desktop: 34px (compact)
- Mobile: 40px+ (touch-friendly, WCAG recommendation)

### Example 4: NavBar Visibility

**Problem**: Desktop navigation menu wraps poorly on mobile

**Solution**:
```tsx
// Before (always shown)
<nav className="flex gap-6">
  <button>Menu 1</button>
  <button>Menu 2</button>
</nav>

// After (hidden on mobile)
<nav className="max-md:hidden flex gap-6">
  <button>Menu 1</button>
  <button>Menu 2</button>
</nav>
```

**Result**:
- Desktop (≥768px): Navigation visible
- Mobile (<768px): Navigation hidden

### Example 5: Layout Stacking

**Problem**: Side-by-side layout doesn't work on mobile

**Solution**:
```tsx
// Before (always horizontal)
<div className="flex gap-4">
  <div className="flex-1">Main</div>
  <div className="w-[300px]">Sidebar</div>
</div>

// After (desktop horizontal, mobile vertical)
<div className="flex flex-col lg:flex-row gap-4">
  <div className="w-full lg:flex-1">Main</div>
  <div className="w-full lg:w-[300px]">Sidebar</div>
</div>
```

**Desktop (≥1024px)**:
- Layout: horizontal (flex-row)
- Main takes remaining space (flex-1)
- Sidebar fixed 300px

**Mobile (<1024px)**:
- Layout: vertical (flex-col)
- Both take full width
- Gap between elements

## Decision Tree: Which Pattern to Use?

```
Need responsive styling?
│
├─ Change SIZE? (padding, width, height, font-size)
│  └─ Use: max-md:size-value
│     Example: px-30 max-md:px-4
│
├─ Change ALIGNMENT? (text-align, justify-content)
│  └─ Use: max-md:alignment-value
│     Example: text-right max-md:text-left
│
├─ Change LAYOUT? (direction, wrapping)
│  └─ Use: default flex-col + lg:flex-row
│     Example: flex flex-col lg:flex-row
│
├─ HIDE on mobile?
│  └─ Use: max-md:hidden
│     Example: max-md:hidden
│
├─ SHOW only on mobile?
│  └─ Use: hidden max-md:block
│     Example: hidden max-md:block
│
├─ Change COLOR/BACKGROUND?
│  └─ Use: max-md:color-value
│     Example: bg-white max-md:bg-blue-500
│
└─ Need COMPLETELY different component?
   └─ Consider: Separate components instead
      Use: isMobile ? <Mobile /> : <Desktop />
```

## Performance & Bundle Size

### CSS Generation

```
✅ EFFICIENT: max-md:text-[20px]
   - Only includes CSS for the class if used
   - Media query naturally groups mobile styles

✅ EFFICIENT: px-30 max-md:px-4
   - Both classes exist
   - Cascade handles correct application

❌ BLOATED: Creating separate mobile component
   - Duplicate JSX code
   - Larger JS bundle
   - Larger CSS for both versions

❌ BLOATED: Conditional rendering with ternary
   - More JavaScript to parse
   - Hydration overhead
   - Potential mismatch between server/client
```

### File Size Comparison

```
Approach 1: Single component + max-md:
  - JS: 10KB
  - CSS: 5KB (includes both layouts)
  - Total: 15KB

Approach 2: Separate mobile/desktop components
  - JS: 14KB (duplicate code)
  - CSS: 6KB (both versions)
  - Total: 20KB

Savings: 5KB or 25% smaller
```

## Browser Support

### Tailwind `max-md:` prefix

| Browser | Support | Note |
|---------|---------|------|
| Chrome | ✅ Full | All versions |
| Firefox | ✅ Full | All versions |
| Safari | ✅ Full | All versions |
| Edge | ✅ Full | All versions |
| IE 11 | ❌ No | CSS media queries not supported |
| Mobile Chrome | ✅ Full | |
| Mobile Safari | ✅ Full | |
| Samsung Internet | ✅ Full | |

**Note**: If IE11 support needed, use separate CSS approach instead.

## Migration Guide: Existing Project

### Step 1: Identify Responsive Issues

```bash
# Find components with sm: or md: prefixes
grep -r "md:" src/components --include="*.tsx" --include="*.jsx"

# These need updating if mobile is broken
```

### Step 2: Add Mobile Overrides

```tsx
// Before: Only desktop
<div className="px-30 py-10">
  <h1 className="text-[28px]">Title</h1>
</div>

// After: Desktop + mobile
<div className="px-30 max-md:px-4 py-10 max-md:py-6">
  <h1 className="text-[28px] max-md:text-[20px]">Title</h1>
</div>
```

### Step 3: Test Each Breakpoint

```javascript
// DevTools console
// Check current breakpoint
window.innerWidth // Should match Tailwind breakpoint

// Test breakpoints:
// 375px (mobile)
// 424px (mobile landscape)
// 768px (tablet breakpoint)
// 1024px (desktop breakpoint)
```

### Step 4: Verify No Regressions

- [ ] Desktop layout unchanged (≥1024px)
- [ ] Tablet works (768px - 1023px)
- [ ] Mobile usable (< 768px)
- [ ] Touch targets ≥44px (WCAG)
- [ ] No horizontal scroll on mobile

## Advanced: Custom Breakpoints

If you need custom breakpoints:

```javascript
// tailwind.config.js
module.exports = {
  theme: {
    screens: {
      'xs': '480px',    // Small mobile
      'sm': '640px',    // Mobile landscape
      'md': '768px',    // Tablet
      'lg': '1024px',   // Desktop
      'xl': '1280px',   // Large desktop
      '2xl': '1536px',  // Extra large
      
      // Custom
      'mobile': { 'max': '767px' },     // max-mobile:
      'tablet': { 'min': '768px', 'max': '1023px' },
    },
  },
};

// Usage
<div className="mobile:px-4 lg:px-30">
  Content
</div>
```

## Debugging Tips

### Issue: Classes not in CSS output

**Cause**: Tailwind only includes classes you use

**Solution**: Check you're using the exact class name
```tsx
// ❌ Wrong - class doesn't exist if not used elsewhere
<div className="max-md:text-[20px]">

// ✅ Right - class name is exact
<div className="max-md:text-[20px]">
```

### Issue: Style doesn't apply

**Cause**: Specificity or cascade issue

**Solution**: Check media query in DevTools
```javascript
// DevTools
// 1. Right-click element
// 2. Inspect
// 3. Look at Styles panel
// 4. Check if max-md: rule appears below desktop rule
```

### Issue: Horizontal scroll on mobile

**Cause**: Element wider than screen

**Solution**: Check padding and width
```tsx
// ❌ Wrong
<div className="px-30 w-full">
  // px-30 = 120px padding, too much on mobile

// ✅ Right
<div className="px-30 max-md:px-4 w-full">
  // Desktop: 120px, Mobile: 16px
```

## Accessibility Considerations

### Touch Targets (WCAG 2.1)

```tsx
// ✅ Accessible - 44px minimum
<button className="px-4 py-2 max-md:px-6 max-md:py-3">
  Button
</button>

// ❌ Not accessible - too small
<button className="px-2 py-1">
  Small Button
</button>
```

### Text Readability

```tsx
// ✅ Good - readable on mobile
<p className="text-[16px] max-md:text-[14px] leading-relaxed">
  Paragraph
</p>

// ❌ Poor - too small on mobile
<p className="text-[12px]">
  Tiny text
</p>
```

### Contrast & Colors

```tsx
// ✅ Good - maintains contrast
<h1 className="text-[28px] max-md:text-[20px] text-white bg-blue-900">
  Title
</h1>

// ❌ Check - verify contrast ratio
<h1 className="text-gray-500 bg-gray-100">
  Low contrast
</h1>
```

## Summary

- Use `max-md:` for mobile overrides on styles < 768px
- Desktop-first: write desktop styles, add mobile overrides
- No component duplication = smaller, faster, easier to maintain
- Test at breakpoints: 375px, 768px, 1024px, 1280px
- Follow touch-friendly guidelines (44px minimum targets)
